msgid ""
msgstr ""
"Project-Id-Version: keycloak-documentation-i18n\n"
"POT-Creation-Date: 2017-09-20 08:59+0000\n"
"PO-Revision-Date: 2017-09-20 05:27-0400\n"
"Last-Translator: wadahiro <wadahiro@gmail.com>\n"
"Language-Team: Japanese\n"
"Language: ja_JP\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"
"Plural-Forms: nplurals=1; plural=0;\n"
"X-Generator: crowdin.com\n"
"X-Crowdin-Project: keycloak-documentation-i18n\n"
"X-Crowdin-Language: ja\n"
"X-Crowdin-File: /master/i18n/pot/server_development__topics__user-storage__javaee.pot\n"

#. type: Plain text
#: source/securing_apps/topics/client-registration.adoc:148
#: source/securing_apps/topics/oidc/java/adapter-context.adoc:16
#: source/securing_apps/topics/oidc/java/adapter_error_handling.adoc:24
#: source/securing_apps/topics/oidc/java/multi-tenancy.adoc:17
#: source/securing_apps/topics/saml/java/assertion-api.adoc:11
#: source/server_admin/topics/identity-broker/suggested.adoc:15
#: source/server_admin/topics/identity-broker/suggested.adoc:25
#: source/server_admin/topics/identity-broker/tokens.adoc:12
#: source/server_development/topics/user-storage/augmenting.adoc:15
#: source/server_development/topics/user-storage/augmenting.adoc:47
#: source/server_development/topics/user-storage/cache.adoc:14
#: source/server_development/topics/user-storage/cache.adoc:52
#: source/server_development/topics/user-storage/cache.adoc:63
#: source/server_development/topics/user-storage/configuration.adoc:9
#: source/server_development/topics/user-storage/configuration.adoc:38
#: source/server_development/topics/user-storage/configuration.adoc:66
#: source/server_development/topics/user-storage/configuration.adoc:85
#: source/server_development/topics/user-storage/import.adoc:31
#: source/server_development/topics/user-storage/import.adoc:85
#: source/server_development/topics/user-storage/import.adoc:111
#: source/server_development/topics/user-storage/javaee.adoc:16
#: source/server_development/topics/user-storage/javaee.adoc:60
#: source/server_development/topics/user-storage/model-interfaces.adoc:7
#: source/server_development/topics/user-storage/provider-interfaces.adoc:10
#: source/server_development/topics/user-storage/provider-interfaces.adoc:59
#: source/server_development/topics/user-storage/provider-interfaces.adoc:94
#: source/server_development/topics/user-storage/registration-query.adoc:15
#: source/server_development/topics/user-storage/registration-query.adoc:33
#: source/server_development/topics/user-storage/registration-query.adoc:65
#: source/server_development/topics/user-storage/registration-query.adoc:81
#: source/server_development/topics/user-storage/registration-query.adoc:99
#: source/server_development/topics/user-storage/registration-query.adoc:132
#: source/server_development/topics/user-storage/registration-query.adoc:163
#: source/server_development/topics/user-storage/registration-query.adoc:191
#: source/server_development/topics/user-storage/registration-query.adoc:212
#: source/server_development/topics/user-storage/rest.adoc:16
#: source/server_development/topics/user-storage/rest.adoc:62
#: source/server_development/topics/user-storage/simple-example.adoc:10
#: source/server_development/topics/user-storage/simple-example.adoc:24
#: source/server_development/topics/user-storage/simple-example.adoc:43
#: source/server_development/topics/user-storage/simple-example.adoc:100
#: source/server_development/topics/user-storage/simple-example.adoc:134
#: source/server_development/topics/user-storage/simple-example.adoc:160
#: source/server_development/topics/user-storage/simple-example.adoc:182
#: source/server_development/topics/user-storage/simple-example.adoc:229
#: source/server_development/topics/user-storage/simple-example.adoc:243
#: source/server_development/topics/admin-rest-api.adoc:49
#: source/server_development/topics/auth-spi.adoc:170
#: source/server_development/topics/auth-spi.adoc:186
#: source/server_development/topics/auth-spi.adoc:199
#: source/server_development/topics/auth-spi.adoc:231
#: source/server_development/topics/auth-spi.adoc:259
#: source/server_development/topics/auth-spi.adoc:287
#: source/server_development/topics/auth-spi.adoc:310
#: source/server_development/topics/auth-spi.adoc:327
#: source/server_development/topics/auth-spi.adoc:341
#: source/server_development/topics/auth-spi.adoc:383
#: source/server_development/topics/auth-spi.adoc:437
#: source/server_development/topics/auth-spi.adoc:452
#: source/server_development/topics/auth-spi.adoc:474
#: source/server_development/topics/auth-spi.adoc:498
#: source/server_development/topics/auth-spi.adoc:546
#: source/server_development/topics/auth-spi.adoc:585
#: source/server_development/topics/auth-spi.adoc:625
#: source/server_development/topics/auth-spi.adoc:681
#: source/server_development/topics/auth-spi.adoc:708
#: source/server_development/topics/extensions.adoc:21
#: source/server_development/topics/extensions.adoc:41
#: source/server_development/topics/extensions.adoc:99
#: source/server_development/topics/extensions.adoc:130
#: source/server_development/topics/providers.adoc:18
#: source/server_development/topics/providers.adoc:53
#: source/server_development/topics/providers.adoc:111
#: source/server_development/topics/providers.adoc:121
#: source/server_development/topics/providers.adoc:157
#: source/server_development/topics/providers.adoc:279
#: source/server_development/topics/providers.adoc:323
#: source/server_development/topics/identity-brokering/account-linking.adoc:24
#: source/server_development/topics/identity-brokering/account-linking.adoc:54
#: source/server_development/topics/identity-brokering/tokens.adoc:12
#, no-wrap
msgid "[source,java]\n"
msgstr ""

#. type: Title ===
#: source/server_development/topics/user-storage/javaee.adoc:2
#: source/server_development/topics/providers.adoc:266
#, no-wrap
msgid "Leveraging Java EE"
msgstr ""

#. type: Plain text
#: source/server_development/topics/user-storage/javaee.adoc:10
#, no-wrap
msgid "The user storage providers can be packaged within any Java EE component if you set up the `META-INF/services`\n"
"file correctly to point to your providers. For example, if your provider needs to use third-party libraries, you\n"
"can package up your provider within an EAR and store these third-party libraries in the `lib/` directory of the EAR.\n"
"Also note that provider JARs can make use of the `jboss-deployment-structure.xml` file that EJBs, WARS, and EARs\n"
"can use in a JBoss/Wildfly environment. For more details on this file, see the JBoss/Wildfly documentation. It\n"
"allows you to pull in external dependencies among other fine-grained actions.\n"
msgstr ""

#. type: Plain text
#: source/server_development/topics/user-storage/javaee.adoc:14
#, no-wrap
msgid "Implementations of `UserStorageProviderFactory` are required to be plain java objects. But we also currently support\n"
"implementing `UserStorageProvider` classes as Stateful EJBs. This is especially useful if you want to use JPA\n"
"to connect to a relational store. This is how you would do it:\n"
msgstr ""

#. type: Plain text
#: source/server_development/topics/user-storage/javaee.adoc:29
#: source/server_development/topics/providers.adoc:292
#, no-wrap
msgid "@Stateful\n"
"@Local(EjbExampleUserStorageProvider.class)\n"
"public class EjbExampleUserStorageProvider implements UserStorageProvider,\n"
"        UserLookupProvider,\n"
"        UserRegistrationProvider,\n"
"        UserQueryProvider,\n"
"        CredentialInputUpdater,\n"
"        CredentialInputValidator,\n"
"        OnUserCache\n"
"{\n"
"    @PersistenceContext\n"
"    protected EntityManager em;\n"
msgstr ""

#. type: Plain text
#: source/server_development/topics/user-storage/javaee.adoc:32
#: source/server_development/topics/providers.adoc:295
#, no-wrap
msgid "    protected ComponentModel model;\n"
"    protected KeycloakSession session;\n"
msgstr ""

#. type: Plain text
#: source/server_development/topics/user-storage/javaee.adoc:36
#: source/server_development/topics/providers.adoc:299
#, no-wrap
msgid "    public void setModel(ComponentModel model) {\n"
"        this.model = model;\n"
"    }\n"
msgstr ""

#. type: Plain text
#: source/server_development/topics/user-storage/javaee.adoc:40
#: source/server_development/topics/providers.adoc:303
#, no-wrap
msgid "    public void setSession(KeycloakSession session) {\n"
"        this.session = session;\n"
"    }\n"
msgstr ""

#. type: Plain text
#: source/server_development/topics/user-storage/javaee.adoc:48
#: source/server_development/topics/providers.adoc:311
#, no-wrap
msgid "    @Remove\n"
"    @Override\n"
"    public void close() {\n"
"    }\n"
"...\n"
"}\n"
msgstr ""

#. type: Plain text
#: source/server_development/topics/user-storage/javaee.adoc:52
#, no-wrap
msgid "You have to define the `@Local` annotation and specify your provider class there. If you do not do this, EJB will\n"
"not proxy the user correctly and your provider won't work.\n"
msgstr ""

#. type: Plain text
#: source/server_development/topics/user-storage/javaee.adoc:55
#, no-wrap
msgid "You must put the `@Remove` annotation on the `close()` method of your provider. If you do not, the stateful bean\n"
"will never be cleaned up and you might eventually see error messages.\n"
msgstr ""

#. type: Plain text
#: source/server_development/topics/user-storage/javaee.adoc:58
#, no-wrap
msgid "Implementations of `UserStorageProviderFactory` are required to be plain java objects. Your factory class would\n"
"perform a JNDI lookup of the Stateful EJB in its create() method.\n"
msgstr ""

#. type: Plain text
#: source/server_development/topics/user-storage/javaee.adoc:63
#: source/server_development/topics/providers.adoc:326
#, no-wrap
msgid "public class EjbExampleUserStorageProviderFactory\n"
"        implements UserStorageProviderFactory<EjbExampleUserStorageProvider> {\n"
msgstr ""

#. type: Plain text
#: source/server_development/topics/user-storage/javaee.adoc:77
#: source/server_development/topics/providers.adoc:340
#, no-wrap
msgid "    @Override\n"
"    public EjbExampleUserStorageProvider create(KeycloakSession session, ComponentModel model) {\n"
"        try {\n"
"            InitialContext ctx = new InitialContext();\n"
"            EjbExampleUserStorageProvider provider = (EjbExampleUserStorageProvider)ctx.lookup(\n"
"                     \"java:global/user-storage-jpa-example/\" + EjbExampleUserStorageProvider.class.getSimpleName());\n"
"            provider.setModel(model);\n"
"            provider.setSession(session);\n"
"            return provider;\n"
"        } catch (Exception e) {\n"
"            throw new RuntimeException(e);\n"
"        }\n"
"    }\n"
msgstr ""

#. type: Plain text
#: source/server_development/topics/user-storage/javaee.adoc:81
#, no-wrap
msgid "This example also assumes that you have defined a JPA deployment in the same JAR as the provider. This means a `persistence.xml`\n"
"file as well as any JPA `@Entity` classes.\n"
msgstr ""

#. type: Plain text
#: source/server_development/topics/user-storage/javaee.adoc:85
#, no-wrap
msgid "When using JPA any additional datasource must be an XA datasource. The {project_name} datasource\n"
"         is not an XA datasource. If you interact with two or more non-XA datasources in the same transaction, the server returns\n"
"         an error message. Only one non-XA resource is permitted in a single transaction.\n"
msgstr ""

#. type: Plain text
#: source/server_development/topics/user-storage/javaee.adoc:87
#, no-wrap
msgid "See the JBoss/Wildfly manual for more details on deploying an XA datasource.\n"
msgstr ""

