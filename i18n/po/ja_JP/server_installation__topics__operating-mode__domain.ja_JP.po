msgid ""
msgstr ""
"Project-Id-Version: keycloak-documentation-i18n\n"
"POT-Creation-Date: 2017-09-21 04:04+0000\n"
"PO-Revision-Date: 2017-09-21 00:26-0400\n"
"Last-Translator: wadahiro <wadahiro@gmail.com>\n"
"Language-Team: Japanese\n"
"Language: ja_JP\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"
"Plural-Forms: nplurals=1; plural=0;\n"
"X-Generator: crowdin.com\n"
"X-Crowdin-Project: keycloak-documentation-i18n\n"
"X-Crowdin-Language: ja\n"
"X-Crowdin-File: /develop/i18n/po/ja_JP/server_installation__topics__operating-mode__domain.ja_JP.po\n"

#. type: Plain text
msgid "To boot the server:"
msgstr ""

#. type: Block title
#, no-wrap
msgid "Linux/Unix"
msgstr ""

#. type: Block title
#, no-wrap
msgid "Windows"
msgstr ""

#. type: Title ===
#, no-wrap
msgid "Domain Clustered Mode"
msgstr ""

#. type: Plain text
msgid "Domain mode is a way to centrally manage and publish the configuration for your servers."
msgstr ""

#. type: Plain text
msgid "Running a cluster in standard mode can quickly become aggravating as the cluster grows in size.  Every time you need to make a configuration change, you have perform it on each node in the cluster.  Domain mode solves this problem by providing a central place to store and publish configuration.  It can be quite complex to set up, but it is worth it in the end.  This capability is built into the {appserver_name} Application Server which {project_name} derives from."
msgstr ""

#. type: Plain text
#, no-wrap
msgid "The guide will go over the very basics of domain mode.  Detailed steps on how to set up domain mode in a cluster should be obtained from the\n"
"       link:{appserver_admindoc_link}[_{appserver_admindoc_name}_].\n"
msgstr ""

#. type: Plain text
msgid "Here are some of the basic concepts of running in domain mode."
msgstr ""

#. type: Labeled list
#, no-wrap
msgid "domain controller"
msgstr ""

#. type: Plain text
msgid "The domain controller is a process that is responsible for storing, managing, and publishing the general configuration for each node in the cluster.  This process is the central point from which nodes in a cluster obtain their configuration."
msgstr ""

#. type: Labeled list
#, no-wrap
msgid "host controller"
msgstr ""

#. type: Plain text
msgid "The host controller is responsible for managing server instances on a specific machine.  You configure it to run one or more server instances.  The domain controller can also interact with the host controllers on each machine to manage the cluster.  To reduce the number of running process, a domain controller also acts as a host controller on the machine it runs on."
msgstr ""

#. type: Labeled list
#, no-wrap
msgid "domain profile"
msgstr ""

#. type: Plain text
msgid "A domain profile is a named set of configuration that can be used by a server to boot from.  A domain controller can define multiple domain profiles that are consumed by different servers."
msgstr ""

#. type: Block title
#, no-wrap
msgid "server group"
msgstr ""

#. type: Plain text
msgid "A server group is a collection of servers.  They are managed and configured as one.  You can assign a domain profile to a server group and every service in that group will use that domain profile as their configuration."
msgstr ""

#. type: Plain text
msgid "In domain mode, a domain controller is started on a master node.  The configuration for the cluster resides in the domain controller.  Next a host controller is started on each machine in the cluster.  Each host controller deployment configuration specifies how many {project_name} server instances will be started on that machine.  When the host controller boots up, it starts as many {project_name} server instances as it was configured to do.  These server instances pull their configuration from the domain controller."
msgstr ""

#. type: Title ====
#, no-wrap
msgid "Domain Configuration"
msgstr ""

#. type: Plain text
msgid "Various other chapters in this guide walk you through configuring various aspects like databases, HTTP network connections, caches, and other infrastructure related things.  While standalone mode uses the _standalone.xml_ file to configure these things, domain mode uses the _.../domain/configuration/domain.xml_ configuration file.  This is where the domain profile and server group for the {project_name} server are defined."
msgstr ""

#. type: Block title
#, no-wrap
msgid "domain.xml"
msgstr ""

#. type: Plain text
#| msgid "image:{project_images}/admin-console.png[]"
msgid "image:{project_images}/domain-file.png[]"
msgstr ""

#. type: Plain text
#, no-wrap
msgid "Any changes you make to this file while the domain controller is running will not take effect and may even be overwritten\n"
"      by the server.  Instead use the the command line scripting or the web console of {appserver_name}.  See\n"
"      the link:{appserver_admindoc_link}[_{appserver_admindoc_name}_] for more information.\n"
msgstr ""

#. type: Plain text
msgid "Let's look at some aspects of this _domain.xml_ file.  The `auth-server-standalone` and `auth-server-clustered` `profile` XML blocks are where you are going to make the bulk of your configuration decisions.  You'll be configuring things here like network connections, caches, and database connections."
msgstr ""

#. type: Block title
#, no-wrap
msgid "auth-server profile"
msgstr ""

#. type: delimited block -
#, no-wrap
msgid "    <profiles>\n"
"        <profile name=\"auth-server-standalone\">\n"
"            ...\n"
"         </profile>\n"
"       <profile name=\"auth-server-clustered\">\n"
"           ...\n"
"        </profile>\n"
msgstr ""

#. type: Plain text
msgid "The `auth-server-standalone` profile is a non-clustered setup.  The `auth-server-clustered` profile is the clustered setup."
msgstr ""

#. type: Plain text
msgid "If you scroll down further, you'll see various `socket-binding-groups` defined."
msgstr ""

#. type: Block title
#, no-wrap
msgid "socket-binding-groups"
msgstr ""

#. type: delimited block -
#, no-wrap
msgid "    <socket-binding-groups>\n"
"        <socket-binding-group name=\"standard-sockets\" default-interface=\"public\">\n"
"           ...\n"
"        </socket-binding-group>\n"
"        <socket-binding-group name=\"ha-sockets\" default-interface=\"public\">\n"
"           ...\n"
"        </socket-binding-group>\n"
"        <!-- load-balancer-sockets should be removed in production systems and replaced with a better softare or hardare based one -->\n"
"        <socket-binding-group name=\"load-balancer-sockets\" default-interface=\"public\">\n"
"           ...\n"
"        </socket-binding-group>\n"
"    </socket-binding-groups>\n"
msgstr ""

#. type: Plain text
msgid "This config defines the default port mappings for various connectors that are opened with each {project_name} server instance.  Any value that contains `${...}` is a value that can be overriden on the command line with the `-D` switch, i.e."
msgstr ""

#. type: delimited block -
#, no-wrap
msgid "$ domain.sh -Djboss.http.port=80\n"
msgstr ""

#. type: Plain text
msgid "The definition of the server group for {project_name} resides in the `server-groups` XML block.  It specifies the domain profile that is used (`default`) and also some default boot arguments for the Java VM when the host controller boots an instance.  It also binds a `socket-binding-group` to the server group."
msgstr ""

#. type: delimited block -
#, no-wrap
msgid "    <server-groups>\n"
"        <!-- load-balancer-group should be removed in production systems and replaced with a better softare or hardare based one -->\n"
"        <server-group name=\"load-balancer-group\" profile=\"load-balancer\">\n"
"            <jvm name=\"default\">\n"
"                <heap size=\"64m\" max-size=\"512m\"/>\n"
"            </jvm>\n"
"            <socket-binding-group ref=\"load-balancer-sockets\"/>\n"
"        </server-group>\n"
"        <server-group name=\"auth-server-group\" profile=\"auth-server-clustered\">\n"
"            <jvm name=\"default\">\n"
"                <heap size=\"64m\" max-size=\"512m\"/>\n"
"            </jvm>\n"
"            <socket-binding-group ref=\"ha-sockets\"/>\n"
"        </server-group>\n"
"    </server-groups>\n"
msgstr ""

#. type: Title ====
#, no-wrap
msgid "Host Controller Configuration"
msgstr ""

#. type: Plain text
msgid "{project_name} comes with two host controller configuration files that reside in the _.../domain/configuration/_ directory: _host-master.xml_ and _host-slave.xml_.  _host-master.xml_ is configured to boot up a domain controller, a load balancer, and one {project_name} server instance.  _host-slave.xml_ is configured to talk to the domain controller and boot up one {project_name} server instance."
msgstr ""

#. type: Plain text
#, no-wrap
msgid "The load balancer is not a required service.  It exists so that you can easily test drive clustering on your development\n"
"       machine.  While usable in production, you have the option of replacing it if you have a different hardware or software\n"
"       based load balancer you want to use.\n"
msgstr ""

#. type: Block title
#, no-wrap
msgid "Host Controller Config"
msgstr ""

#. type: Plain text
#| msgid "image:{project_images}/users.png[]"
msgid "image:{project_images}/host-files.png[]"
msgstr ""

#. type: Plain text
msgid "To disable the load balancer server instance, edit _host-master.xml_ and comment out or remove the `\"load-balancer\"` entry."
msgstr ""

#. type: delimited block -
#, no-wrap
msgid "    <servers>\n"
"        <!-- remove or comment out next line -->\n"
"        <server name=\"load-balancer\" group=\"loadbalancer-group\"/>\n"
"        ...\n"
"    </servers>\n"
msgstr ""

#. type: Plain text
msgid "Another interesting thing to note about this file is the declaration of the authentication server instance.  It has a `port-offset` setting.  Any network port defined in the _domain.xml_ `socket-binding-group` or the server group will have the value of `port-offset` added to it.  For this example domain setup we do this so that ports opened by the load balancer server don't conflict with the authentication server instance that is started."
msgstr ""

#. type: delimited block -
#, no-wrap
msgid "    <servers>\n"
"        ...\n"
"        <server name=\"server-one\" group=\"auth-server-group\" auto-start=\"true\">\n"
"             <socket-bindings port-offset=\"150\"/>\n"
"        </server>\n"
"    </servers>\n"
msgstr ""

#. type: Title ====
#, no-wrap
msgid "Server Instance Working Directories"
msgstr ""

#. type: Plain text
msgid "Each {project_name} server instance defined in your host files creates a working directory under _.../domain/servers/{SERVER NAME}_.  Additional configuration can be put there, and any temporary, log, or data files the server instance needs or creates go there too.  The structure of these per server directories ends up looking like any other {appserver_name} booted server."
msgstr ""

#. type: Block title
#, no-wrap
msgid "Working Directories"
msgstr ""

#. type: Plain text
#| msgid "image:{project_images}/add-user.png[]"
msgid "image:{project_images}/domain-server-dir.png[]"
msgstr ""

#. type: Block title
#| msgid "Standalone Boot Scripts"
msgid "Domain Boot Script"
msgstr ""

#. type: Plain text
msgid "When running the server in domain mode, there is a specific script you need to run to boot the server depending on your operating system.  These scripts live in the _bin/_ directory of the server distribution."
msgstr ""

#. type: Plain text
#| msgid "image:{project_images}/standalone-boot-files.png[]"
msgid "image:{project_images}/domain-boot-files.png[]"
msgstr ""

#. type: delimited block -
#, no-wrap
msgid "$ .../bin/domain.sh --host-config=host-master.xml\n"
msgstr ""

#. type: delimited block -
#, no-wrap
msgid "> ...\\bin\\domain.bat --host-config=host-slave.xml\n"
msgstr ""

#. type: Plain text
msgid "When running the boot script you will need pass in the host controlling configuration file you are going to use via the `--host-config` switch."
msgstr ""

#. type: Title ====
#, no-wrap
msgid "Clustered Domain Example"
msgstr ""

#. type: Plain text
msgid "You can test drive clustering using the out-of-the-box _domain.xml_ configuration.  This example domain is meant to run on one machine and boots up:"
msgstr ""

#. type: Plain text
msgid "a domain controller"
msgstr ""

#. type: Plain text
msgid "an HTTP load balancer"
msgstr ""

#. type: Plain text
#| msgid "To boot the {project_name} server:"
msgid "2 {project_name} server instances"
msgstr ""

#. type: Plain text
msgid "To simulate running a cluster on two machines, you'll run the `domain.sh` script twice to start two separate host controllers.  The first will be the master host controller which will start a domain controller, an HTTP load balancer, and one {project_name} authentication server instance.  The second will be a slave host controller that only starts up an authentication server instance."
msgstr ""

#. type: Title =====
#, no-wrap
msgid "Setup Slave Connection to Domain Controller"
msgstr ""

#. type: Plain text
msgid "Before you can boot things up though, you have to configure the slave host controller so that it can talk securely to the domain controller.  If you do not do this, then the slave host will not be able to obtain the centralized configuration from the domain controller.  To set up a secure connection, you have to create a server admin user and a secret that will be shared between the master and the slave.  You do this by running the `.../bin/add-user.sh` script."
msgstr ""

#. type: Plain text
msgid "When you run the script select `Management User` and answer `yes` when it asks you if the new user is going to be used for one AS process to connect to another.  This will generate a secret that you'll need to cut and paste into the _.../domain/configuration/host-slave.xml_ file."
msgstr ""

#. type: Block title
#, no-wrap
msgid "Add App Server Admin"
msgstr ""

#. type: delimited block -
#, no-wrap
msgid "$ add-user.sh\n"
" What type of user do you wish to add?\n"
"  a) Management User (mgmt-users.properties)\n"
"  b) Application User (application-users.properties)\n"
" (a): a\n"
" Enter the details of the new user to add.\n"
" Using realm 'ManagementRealm' as discovered from the existing property files.\n"
" Username : admin\n"
" Password recommendations are listed below. To modify these restrictions edit the add-user.properties configuration file.\n"
"  - The password should not be one of the following restricted values {root, admin, administrator}\n"
"  - The password should contain at least 8 characters, 1 alphabetic character(s), 1 digit(s), 1 non-alphanumeric symbol(s)\n"
"  - The password should be different from the username\n"
" Password :\n"
" Re-enter Password :\n"
" What groups do you want this user to belong to? (Please enter a comma separated list, or leave blank for none)[ ]:\n"
" About to add user 'admin' for realm 'ManagementRealm'\n"
" Is this correct yes/no? yes\n"
" Added user 'admin' to file '/.../standalone/configuration/mgmt-users.properties'\n"
" Added user 'admin' to file '/.../domain/configuration/mgmt-users.properties'\n"
" Added user 'admin' with groups to file '/.../standalone/configuration/mgmt-groups.properties'\n"
" Added user 'admin' with groups to file '/.../domain/configuration/mgmt-groups.properties'\n"
" Is this new user going to be used for one AS process to connect to another AS process?\n"
" e.g. for a slave host controller connecting to the master or for a Remoting connection for server to server EJB calls.\n"
" yes/no? yes\n"
" To represent the user add the following to the server-identities definition <secret value=\"bWdtdDEyMyE=\" />\n"
msgstr ""

#. type: Plain text
msgid "The add-user.sh does not add user to {project_name} server but to the underlying JBoss Enterprise Application Platform. The credentials used and generated in the above script are only for example purpose. Please use the ones generated on your system."
msgstr ""

#. type: Plain text
msgid "Now cut and paste the secret value into the _.../domain/configuration/host-slave.xml_ file as follows:"
msgstr ""

#. type: delimited block -
#, no-wrap
msgid "     <management>\n"
"         <security-realms>\n"
"             <security-realm name=\"ManagementRealm\">\n"
"                 <server-identities>\n"
"                     <secret value=\"bWdtdDEyMyE=\"/>\n"
"                 </server-identities>\n"
msgstr ""

#. type: Title =====
#| msgid "Standalone Boot Scripts"
msgid "Run the Boot Scripts"
msgstr ""

#. type: Plain text
msgid "Since we're simulating a two node cluster on one development machine, you'll run the boot script twice:"
msgstr ""

#. type: Block title
#, no-wrap
msgid "Boot up master"
msgstr ""

#. type: delimited block -
#, no-wrap
msgid "$ domain.sh --host-config=host-master.xml\n"
msgstr ""

#. type: Block title
#, no-wrap
msgid "Boot up slave"
msgstr ""

#. type: delimited block -
#, no-wrap
msgid "$ domain.sh --host-config=host-slave.xml\n"
msgstr ""

#. type: Plain text
#| msgid "After the server boots, open your browser and go to the http://localhost:8080/auth URL. The page should look like this:"
msgid "To try it out, open your browser and go to http://localhost:8080/auth"
msgstr ""

