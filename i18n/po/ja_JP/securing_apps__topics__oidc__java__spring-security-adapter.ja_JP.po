msgid ""
msgstr ""
"Project-Id-Version: keycloak-documentation-i18n\n"
"POT-Creation-Date: 2017-09-20 08:59+0000\n"
"PO-Revision-Date: 2017-09-20 05:30-0400\n"
"Last-Translator: wadahiro <wadahiro@gmail.com>\n"
"Language-Team: Japanese\n"
"Language: ja_JP\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"
"Plural-Forms: nplurals=1; plural=0;\n"
"X-Generator: crowdin.com\n"
"X-Crowdin-Project: keycloak-documentation-i18n\n"
"X-Crowdin-Language: ja\n"
"X-Crowdin-File: /master/i18n/pot/securing_apps__topics__oidc__java__spring-security-adapter.pot\n"

#. type: Plain text
#: source/server_installation/topics/clustering/load-balancer.adoc:42
#: source/server_installation/topics/clustering/load-balancer.adoc:64
#: source/server_installation/topics/clustering/load-balancer.adoc:157
#: source/server_installation/topics/network/https.adoc:142
#: source/securing_apps/topics/oidc/java/servlet-filter-adapter.adoc:60
#: source/securing_apps/topics/oidc/java/spring-boot-adapter.adoc:16
#: source/securing_apps/topics/oidc/java/spring-boot-adapter.adoc:29
#: source/securing_apps/topics/oidc/java/spring-security-adapter.adoc:16
#: source/securing_apps/topics/saml/java/general-config.adoc:9
#: source/securing_apps/topics/saml/java/servlet-filter-adapter.adoc:51
#: source/server_admin/topics/authentication/x509.adoc:115
#, no-wrap
msgid "[source,xml,subs=\"attributes+\"]\n"
msgstr ""

#. type: Title =====
#: source/securing_apps/topics/oidc/java/jetty8-adapter.adoc:10
#: source/securing_apps/topics/oidc/java/jetty9-adapter.adoc:10
#: source/securing_apps/topics/oidc/java/spring-boot-adapter.adoc:8
#: source/securing_apps/topics/oidc/java/spring-security-adapter.adoc:10
#: source/securing_apps/topics/oidc/java/tomcat-adapter.adoc:10
#: source/securing_apps/topics/saml/java/tomcat-adapter/tomcat_adapter_installation.adoc:3
#: source/securing_apps/topics/saml/java/jboss-adapter/jboss_adapter_installation.adoc:3
#, no-wrap
msgid "Adapter Installation"
msgstr ""

#. type: Title =====
#: source/securing_apps/topics/oidc/java/multi-tenancy.adoc:2
#: source/securing_apps/topics/oidc/java/spring-security-adapter.adoc:152
#, no-wrap
msgid "Multi Tenancy"
msgstr ""

#. type: Title ====
#: source/securing_apps/topics/oidc/java/spring-security-adapter.adoc:2
#, no-wrap
msgid "Spring Security Adapter"
msgstr ""

#. type: Plain text
#: source/securing_apps/topics/oidc/java/spring-security-adapter.adoc:6
#, no-wrap
msgid "To secure an application with Spring Security and Keycloak, add this adapter as a dependency to your project.\n"
"You then have to provide some extra beans in your Spring Security configuration file and add the Keycloak security filter to your pipeline.\n"
msgstr ""

#. type: Plain text
#: source/securing_apps/topics/oidc/java/spring-security-adapter.adoc:9
#, no-wrap
msgid "Unlike the other Keycloak Adapters, you should not configure your security in web.xml.\n"
"However, keycloak.json is still required.\n"
msgstr ""

#. type: Plain text
#: source/securing_apps/topics/oidc/java/spring-security-adapter.adoc:13
#, no-wrap
msgid "Add Keycloak Spring Security adapter as a dependency to your Maven POM or Gradle build.\n"
msgstr ""

#. type: delimited block -
#: source/securing_apps/topics/oidc/java/spring-security-adapter.adoc:22
#, no-wrap
msgid "<dependency>\n"
"    <groupId>org.keycloak</groupId>\n"
"    <artifactId>keycloak-spring-security-adapter</artifactId>\n"
"    <version>{project_versionMvn}</version>\n"
"</dependency>\n"
msgstr ""

#. type: Title =====
#: source/securing_apps/topics/oidc/java/spring-security-adapter.adoc:24
#, no-wrap
msgid "Spring Security Configuration"
msgstr ""

#. type: Plain text
#: source/securing_apps/topics/oidc/java/spring-security-adapter.adoc:27
#, no-wrap
msgid "The Keycloak Spring Security adapter takes advantage of Spring Security's flexible security configuration syntax.\n"
msgstr ""

#. type: Plain text
#: source/securing_apps/topics/oidc/java/spring-security-adapter.adoc:29
#, no-wrap
msgid "====== Java Configuration\n"
msgstr ""

#. type: Plain text
#: source/securing_apps/topics/oidc/java/spring-security-adapter.adoc:33
#, no-wrap
msgid "Keycloak provides a KeycloakWebSecurityConfigurerAdapter as a convenient base class for creating a https://docs.spring.io/spring-security/site/docs/4.0.x/apidocs/org/springframework/security/config/annotation/web/WebSecurityConfigurer.html[WebSecurityConfigurer]                instance.\n"
"The implementation allows customization by overriding methods.\n"
"While its use is not required, it greatly simplifies your security context configuration.\n"
msgstr ""

#. type: delimited block -
#: source/securing_apps/topics/oidc/java/spring-security-adapter.adoc:49
#, no-wrap
msgid "@KeycloakConfiguration\n"
"public class SecurityConfig extends KeycloakWebSecurityConfigurerAdapter\n"
"{\n"
"    /**\n"
"     * Registers the KeycloakAuthenticationProvider with the authentication manager.\n"
"     */\n"
"    @Autowired\n"
"    public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\n"
"        auth.authenticationProvider(keycloakAuthenticationProvider());\n"
"    }\n"
msgstr ""

#. type: delimited block -
#: source/securing_apps/topics/oidc/java/spring-security-adapter.adoc:58
#, no-wrap
msgid "    /**\n"
"     * Defines the session authentication strategy.\n"
"     */\n"
"    @Bean\n"
"    @Override\n"
"    protected SessionAuthenticationStrategy sessionAuthenticationStrategy() {\n"
"        return new RegisterSessionAuthenticationStrategy(new SessionRegistryImpl());\n"
"    }\n"
msgstr ""

#. type: delimited block -
#: source/securing_apps/topics/oidc/java/spring-security-adapter.adoc:70
#, no-wrap
msgid "    @Override\n"
"    protected void configure(HttpSecurity http) throws Exception\n"
"    {\n"
"        super.configure(http);\n"
"        http\n"
"                .authorizeRequests()\n"
"                .antMatchers(\"/customers*\").hasRole(\"USER\")\n"
"                .antMatchers(\"/admin*\").hasRole(\"ADMIN\")\n"
"                .anyRequest().permitAll();\n"
"    }\n"
"}\n"
msgstr ""

#. type: Plain text
#: source/securing_apps/topics/oidc/java/spring-security-adapter.adoc:73
#, no-wrap
msgid "You must provide a session authentication strategy bean which should be of type `RegisterSessionAuthenticationStrategy` for public or confidential applications and `NullAuthenticatedSessionStrategy` for bearer-only applications.\n"
msgstr ""

#. type: Plain text
#: source/securing_apps/topics/oidc/java/spring-security-adapter.adoc:76
#, no-wrap
msgid "Spring Security's `SessionFixationProtectionStrategy` is currently not supported because it changes the session identifier after login via Keycloak.\n"
"If the session identifier changes, universal log out will not work because Keycloak is unaware of the new session identifier.\n"
msgstr ""

#. type: Plain text
#: source/securing_apps/topics/oidc/java/spring-security-adapter.adoc:81
#, no-wrap
msgid "The `@KeycloakConfiguration` annotation is a metadata annotion that defines all annotations that are needed to integrate\n"
"KeyCloak in Spring security. If you have a complexe Spring security setup you can simply have a look ath the annotations of\n"
"the `@KeycloakConfiguration` annotation and create your own custom meta annotation or just use specific Spring annotations\n"
"for the KeyCloak adapter.\n"
msgstr ""

#. type: Plain text
#: source/securing_apps/topics/oidc/java/spring-security-adapter.adoc:83
#, no-wrap
msgid "====== XML Configuration\n"
msgstr ""

#. type: Plain text
#: source/securing_apps/topics/oidc/java/spring-security-adapter.adoc:85
#, no-wrap
msgid "While Spring Security's XML namespace simplifies configuration, customizing the configuration can be a bit verbose.\n"
msgstr ""

#. type: delimited block -
#: source/securing_apps/topics/oidc/java/spring-security-adapter.adoc:103
#, no-wrap
msgid "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n"
"<beans xmlns=\"http://www.springframework.org/schema/beans\"\n"
"       xmlns:context=\"http://www.springframework.org/schema/context\"\n"
"       xmlns:security=\"http://www.springframework.org/schema/security\"\n"
"       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n"
"       xsi:schemaLocation=\"\n"
"       http://www.springframework.org/schema/beans\n"
"       http://www.springframework.org/schema/beans/spring-beans.xsd\n"
"       http://www.springframework.org/schema/context\n"
"       http://www.springframework.org/schema/context/spring-context.xsd\n"
"       http://www.springframework.org/schema/security\n"
"       http://www.springframework.org/schema/security/spring-security.xsd\">\n"
msgstr ""

#. type: delimited block -
#: source/securing_apps/topics/oidc/java/spring-security-adapter.adoc:105
#, no-wrap
msgid "    <context:component-scan base-package=\"org.keycloak.adapters.springsecurity\" />\n"
msgstr ""

#. type: delimited block -
#: source/securing_apps/topics/oidc/java/spring-security-adapter.adoc:109
#, no-wrap
msgid "    <security:authentication-manager alias=\"authenticationManager\">\n"
"        <security:authentication-provider ref=\"keycloakAuthenticationProvider\" />\n"
"    </security:authentication-manager>\n"
msgstr ""

#. type: delimited block -
#: source/securing_apps/topics/oidc/java/spring-security-adapter.adoc:113
#, no-wrap
msgid "    <bean id=\"adapterDeploymentContext\" class=\"org.keycloak.adapters.springsecurity.AdapterDeploymentContextFactoryBean\">\n"
"        <constructor-arg value=\"/WEB-INF/keycloak.json\" />\n"
"    </bean>\n"
msgstr ""

#. type: delimited block -
#: source/securing_apps/topics/oidc/java/spring-security-adapter.adoc:120
#, no-wrap
msgid "    <bean id=\"keycloakAuthenticationEntryPoint\" class=\"org.keycloak.adapters.springsecurity.authentication.KeycloakAuthenticationEntryPoint\" />\n"
"    <bean id=\"keycloakAuthenticationProvider\" class=\"org.keycloak.adapters.springsecurity.authentication.KeycloakAuthenticationProvider\" />\n"
"    <bean id=\"keycloakPreAuthActionsFilter\" class=\"org.keycloak.adapters.springsecurity.filter.KeycloakPreAuthActionsFilter\" />\n"
"    <bean id=\"keycloakAuthenticationProcessingFilter\" class=\"org.keycloak.adapters.springsecurity.filter.KeycloakAuthenticationProcessingFilter\">\n"
"        <constructor-arg name=\"authenticationManager\" ref=\"authenticationManager\" />\n"
"    </bean>\n"
msgstr ""

#. type: delimited block -
#: source/securing_apps/topics/oidc/java/spring-security-adapter.adoc:124
#, no-wrap
msgid "    <bean id=\"keycloakLogoutHandler\" class=\"org.keycloak.adapters.springsecurity.authentication.KeycloakLogoutHandler\">\n"
"        <constructor-arg ref=\"adapterDeploymentContext\" />\n"
"    </bean>\n"
msgstr ""

#. type: delimited block -
#: source/securing_apps/topics/oidc/java/spring-security-adapter.adoc:140
#, no-wrap
msgid "    <bean id=\"logoutFilter\" class=\"org.springframework.security.web.authentication.logout.LogoutFilter\">\n"
"        <constructor-arg name=\"logoutSuccessUrl\" value=\"/\" />\n"
"        <constructor-arg name=\"handlers\">\n"
"            <list>\n"
"                <ref bean=\"keycloakLogoutHandler\" />\n"
"                <bean class=\"org.springframework.security.web.authentication.logout.SecurityContextLogoutHandler\" />\n"
"            </list>\n"
"        </constructor-arg>\n"
"        <property name=\"logoutRequestMatcher\">\n"
"            <bean class=\"org.springframework.security.web.util.matcher.AntPathRequestMatcher\">\n"
"                <constructor-arg name=\"pattern\" value=\"/sso/logout**\" />\n"
"                <constructor-arg name=\"httpMethod\" value=\"GET\" />\n"
"            </bean>\n"
"        </property>\n"
"    </bean>\n"
msgstr ""

#. type: delimited block -
#: source/securing_apps/topics/oidc/java/spring-security-adapter.adoc:148
#, no-wrap
msgid "    <security:http auto-config=\"false\" entry-point-ref=\"keycloakAuthenticationEntryPoint\">\n"
"        <security:custom-filter ref=\"keycloakPreAuthActionsFilter\" before=\"LOGOUT_FILTER\" />\n"
"        <security:custom-filter ref=\"keycloakAuthenticationProcessingFilter\" before=\"FORM_LOGIN_FILTER\" />\n"
"        <security:intercept-url pattern=\"/customers**\" access=\"ROLE_USER\" />\n"
"        <security:intercept-url pattern=\"/admin**\" access=\"ROLE_ADMIN\" />\n"
"        <security:custom-filter ref=\"logoutFilter\" position=\"LOGOUT_FILTER\" />\n"
"    </security:http>\n"
msgstr ""

#. type: delimited block -
#: source/securing_apps/topics/oidc/java/spring-security-adapter.adoc:150
#: source/securing_apps/topics/oidc/java/fuse/cxf-separate.adoc:80
#, no-wrap
msgid "</beans>\n"
msgstr ""

#. type: Plain text
#: source/securing_apps/topics/oidc/java/spring-security-adapter.adoc:157
#, no-wrap
msgid "The Keycloak Spring Security adapter also supports multi tenancy.\n"
"Instead of injecting `AdapterDeploymentContextFactoryBean` with the path to `keycloak.json` you can inject an implementation of the `KeycloakConfigResolver` interface.\n"
"More details on how to implement the `KeycloakConfigResolver` can be found in <<_multi_tenancy,Multi Tenancy>>.\n"
msgstr ""

#. type: Title =====
#: source/securing_apps/topics/oidc/java/spring-security-adapter.adoc:158
#, no-wrap
msgid "Naming Security Roles"
msgstr ""

#. type: Plain text
#: source/securing_apps/topics/oidc/java/spring-security-adapter.adoc:162
#, no-wrap
msgid "Spring Security, when using role-based authentication, requires that role names start with `ROLE_`.\n"
"For example, an administrator role must be declared in Keycloak as `ROLE_ADMIN` or similar, not simply `ADMIN`.\n"
msgstr ""

#. type: Plain text
#: source/securing_apps/topics/oidc/java/spring-security-adapter.adoc:166
#, no-wrap
msgid "The class `org.keycloak.adapters.springsecurity.authentication.KeycloakAuthenticationProvider`            supports an optional `org.springframework.security.core.authority.mapping.GrantedAuthoritiesMapper`            which can be used to map roles coming from Keycloak to roles recognized by Spring Security.\n"
"Use, for example, `org.springframework.security.core.authority.mapping.SimpleAuthorityMapper` to insert the `ROLE_` prefix and convert the role name to upper case.\n"
"The class is part of Spring Security Core module.\n"
msgstr ""

#. type: Title =====
#: source/securing_apps/topics/oidc/java/spring-security-adapter.adoc:167
#, no-wrap
msgid "Client to Client Support"
msgstr ""

#. type: Plain text
#: source/securing_apps/topics/oidc/java/spring-security-adapter.adoc:172
#, no-wrap
msgid "To simplify communication between clients, Keycloak provides an extension of Spring's `RestTemplate` that handles bearer token authentication for you.\n"
"To enable this feature your security configuration must add the `KeycloakRestTemplate` bean.\n"
"Note that it must be scoped as a prototype to function correctly.\n"
msgstr ""

#. type: Plain text
#: source/securing_apps/topics/oidc/java/spring-security-adapter.adoc:174
#, no-wrap
msgid "For Java configuration:\n"
msgstr ""

#. type: delimited block -
#: source/securing_apps/topics/oidc/java/spring-security-adapter.adoc:182
#, no-wrap
msgid "@Configuration\n"
"@EnableWebSecurity\n"
"@ComponentScan(basePackageClasses = KeycloakSecurityComponents.class)\n"
"public class SecurityConfig extends KeycloakWebSecurityConfigurerAdapter {\n"
msgstr ""

#. type: delimited block -
#: source/securing_apps/topics/oidc/java/spring-security-adapter.adoc:184
#: source/server_development/topics/providers.adoc:141
#, no-wrap
msgid "    ...\n"
msgstr ""

#. type: delimited block -
#: source/securing_apps/topics/oidc/java/spring-security-adapter.adoc:187
#, no-wrap
msgid "    @Autowired\n"
"    public KeycloakClientRequestFactory keycloakClientRequestFactory;\n"
msgstr ""

#. type: delimited block -
#: source/securing_apps/topics/oidc/java/spring-security-adapter.adoc:193
#, no-wrap
msgid "    @Bean\n"
"    @Scope(ConfigurableBeanFactory.SCOPE_PROTOTYPE)\n"
"    public KeycloakRestTemplate keycloakRestTemplate() {\n"
"        return new KeycloakRestTemplate(keycloakClientRequestFactory);\n"
"    }\n"
msgstr ""

#. type: delimited block -
#: source/securing_apps/topics/oidc/java/spring-security-adapter.adoc:196
#: source/securing_apps/topics/oidc/java/spring-security-adapter.adoc:295
#: source/server_development/topics/user-storage/simple-example.adoc:236
#: source/server_development/topics/extensions.adoc:123
#, no-wrap
msgid "    ...\n"
"}\n"
msgstr ""

#. type: Plain text
#: source/securing_apps/topics/oidc/java/spring-security-adapter.adoc:199
#, no-wrap
msgid "For XML configuration:\n"
msgstr ""

#. type: delimited block -
#: source/securing_apps/topics/oidc/java/spring-security-adapter.adoc:206
#, no-wrap
msgid "<bean id=\"keycloakRestTemplate\" class=\"org.keycloak.adapters.springsecurity.client.KeycloakRestTemplate\" scope=\"prototype\">\n"
"    <constructor-arg name=\"factory\" ref=\"keycloakClientRequestFactory\" />\n"
"</bean>\n"
msgstr ""

#. type: Plain text
#: source/securing_apps/topics/oidc/java/spring-security-adapter.adoc:210
#, no-wrap
msgid "Your application code can then use `KeycloakRestTemplate` any time it needs to make a call to another client.\n"
"For example:\n"
msgstr ""

#. type: delimited block -
#: source/securing_apps/topics/oidc/java/spring-security-adapter.adoc:217
#, no-wrap
msgid "@Service\n"
"public class RemoteProductService implements ProductService {\n"
msgstr ""

#. type: delimited block -
#: source/securing_apps/topics/oidc/java/spring-security-adapter.adoc:220
#, no-wrap
msgid "    @Autowired\n"
"    private KeycloakRestTemplate template;\n"
msgstr ""

#. type: delimited block -
#: source/securing_apps/topics/oidc/java/spring-security-adapter.adoc:222
#, no-wrap
msgid "    private String endpoint;\n"
msgstr ""

#. type: delimited block -
#: source/securing_apps/topics/oidc/java/spring-security-adapter.adoc:229
#, no-wrap
msgid "    @Override\n"
"    public List<String> getProducts() {\n"
"        ResponseEntity<String[]> response = template.getForEntity(endpoint, String[].class);\n"
"        return Arrays.asList(response.getBody());\n"
"    }\n"
"}\n"
msgstr ""

#. type: Title =====
#: source/securing_apps/topics/oidc/java/spring-security-adapter.adoc:231
#, no-wrap
msgid "Spring Boot Integration"
msgstr ""

#. type: Plain text
#: source/securing_apps/topics/oidc/java/spring-security-adapter.adoc:234
#, no-wrap
msgid "The Spring Boot and the Spring Security adapters can be combined.\n"
msgstr ""

#. type: Plain text
#: source/securing_apps/topics/oidc/java/spring-security-adapter.adoc:236
#, no-wrap
msgid "If you are using the Keycloak Spring Boot Starter to make use of the Spring Security adapter you just need to add the Spring Security starter :\n"
msgstr ""

#. type: delimited block -
#: source/securing_apps/topics/oidc/java/spring-security-adapter.adoc:244
#, no-wrap
msgid "<dependency>\n"
"  <groupId>org.springframework.boot</groupId>\n"
"  <artifactId>spring-boot-starter-security</artifactId>\n"
"</dependency>\n"
msgstr ""

#. type: Plain text
#: source/securing_apps/topics/oidc/java/spring-security-adapter.adoc:248
#, no-wrap
msgid "====== Using Spring Boot Configuration\n"
msgstr ""

#. type: Plain text
#: source/securing_apps/topics/oidc/java/spring-security-adapter.adoc:250
#, no-wrap
msgid "By Default, the Spring Security Adapter looks for a `keycloak.json` configuration file. You can make sure it looks at the configuration provided by the Spring Boot Adapter by adding this bean :\n"
msgstr ""

#. type: delimited block -
#: source/securing_apps/topics/oidc/java/spring-security-adapter.adoc:258
#, no-wrap
msgid "@Bean\n"
"public KeycloakConfigResolver KeycloakConfigResolver() {\n"
"    return new KeycloakSpringBootConfigResolver();\n"
"}\n"
msgstr ""

#. type: Plain text
#: source/securing_apps/topics/oidc/java/spring-security-adapter.adoc:262
#, no-wrap
msgid "====== Avoid double Filter bean registration\n"
msgstr ""

#. type: Plain text
#: source/securing_apps/topics/oidc/java/spring-security-adapter.adoc:265
#, no-wrap
msgid "Spring Boot attempts to eagerly register filter beans with the web application context.\n"
"Therefore, when running the Keycloak Spring Security adapter in a Spring Boot environment, it may be necessary to add two ``FilterRegistrationBean``s to your security configuration to prevent the Keycloak filters from being registered twice.\n"
msgstr ""

#. type: delimited block -
#: source/securing_apps/topics/oidc/java/spring-security-adapter.adoc:276
#, no-wrap
msgid "@Configuration\n"
"@EnableWebSecurity\n"
"public class SecurityConfig extends KeycloakWebSecurityConfigurerAdapter\n"
"{\n"
"    ...\n"
msgstr ""

#. type: delimited block -
#: source/securing_apps/topics/oidc/java/spring-security-adapter.adoc:284
#, no-wrap
msgid "    @Bean\n"
"    public FilterRegistrationBean keycloakAuthenticationProcessingFilterRegistrationBean(\n"
"            KeycloakAuthenticationProcessingFilter filter) {\n"
"        FilterRegistrationBean registrationBean = new FilterRegistrationBean(filter);\n"
"        registrationBean.setEnabled(false);\n"
"        return registrationBean;\n"
"    }\n"
msgstr ""

#. type: delimited block -
#: source/securing_apps/topics/oidc/java/spring-security-adapter.adoc:292
#, no-wrap
msgid "    @Bean\n"
"    public FilterRegistrationBean keycloakPreAuthActionsFilterRegistrationBean(\n"
"            KeycloakPreAuthActionsFilter filter) {\n"
"        FilterRegistrationBean registrationBean = new FilterRegistrationBean(filter);\n"
"        registrationBean.setEnabled(false);\n"
"        return registrationBean;\n"
"    }\n"
msgstr ""

