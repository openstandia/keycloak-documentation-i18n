msgid ""
msgstr ""
"Project-Id-Version: keycloak-documentation-i18n\n"
"POT-Creation-Date: 2017-09-20 08:59+0000\n"
"PO-Revision-Date: 2017-09-20 05:27-0400\n"
"Last-Translator: wadahiro <wadahiro@gmail.com>\n"
"Language-Team: Japanese\n"
"Language: ja_JP\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"
"Plural-Forms: nplurals=1; plural=0;\n"
"X-Generator: crowdin.com\n"
"X-Crowdin-Project: keycloak-documentation-i18n\n"
"X-Crowdin-Language: ja\n"
"X-Crowdin-File: /master/i18n/pot/server_development__topics__user-storage__provider-interfaces.pot\n"

#. type: Plain text
#: source/securing_apps/topics/client-registration.adoc:148
#: source/securing_apps/topics/oidc/java/adapter-context.adoc:16
#: source/securing_apps/topics/oidc/java/adapter_error_handling.adoc:24
#: source/securing_apps/topics/oidc/java/multi-tenancy.adoc:17
#: source/securing_apps/topics/saml/java/assertion-api.adoc:11
#: source/server_admin/topics/identity-broker/suggested.adoc:15
#: source/server_admin/topics/identity-broker/suggested.adoc:25
#: source/server_admin/topics/identity-broker/tokens.adoc:12
#: source/server_development/topics/user-storage/augmenting.adoc:15
#: source/server_development/topics/user-storage/augmenting.adoc:47
#: source/server_development/topics/user-storage/cache.adoc:14
#: source/server_development/topics/user-storage/cache.adoc:52
#: source/server_development/topics/user-storage/cache.adoc:63
#: source/server_development/topics/user-storage/configuration.adoc:9
#: source/server_development/topics/user-storage/configuration.adoc:38
#: source/server_development/topics/user-storage/configuration.adoc:66
#: source/server_development/topics/user-storage/configuration.adoc:85
#: source/server_development/topics/user-storage/import.adoc:31
#: source/server_development/topics/user-storage/import.adoc:85
#: source/server_development/topics/user-storage/import.adoc:111
#: source/server_development/topics/user-storage/javaee.adoc:16
#: source/server_development/topics/user-storage/javaee.adoc:60
#: source/server_development/topics/user-storage/model-interfaces.adoc:7
#: source/server_development/topics/user-storage/provider-interfaces.adoc:10
#: source/server_development/topics/user-storage/provider-interfaces.adoc:59
#: source/server_development/topics/user-storage/provider-interfaces.adoc:94
#: source/server_development/topics/user-storage/registration-query.adoc:15
#: source/server_development/topics/user-storage/registration-query.adoc:33
#: source/server_development/topics/user-storage/registration-query.adoc:65
#: source/server_development/topics/user-storage/registration-query.adoc:81
#: source/server_development/topics/user-storage/registration-query.adoc:99
#: source/server_development/topics/user-storage/registration-query.adoc:132
#: source/server_development/topics/user-storage/registration-query.adoc:163
#: source/server_development/topics/user-storage/registration-query.adoc:191
#: source/server_development/topics/user-storage/registration-query.adoc:212
#: source/server_development/topics/user-storage/rest.adoc:16
#: source/server_development/topics/user-storage/rest.adoc:62
#: source/server_development/topics/user-storage/simple-example.adoc:10
#: source/server_development/topics/user-storage/simple-example.adoc:24
#: source/server_development/topics/user-storage/simple-example.adoc:43
#: source/server_development/topics/user-storage/simple-example.adoc:100
#: source/server_development/topics/user-storage/simple-example.adoc:134
#: source/server_development/topics/user-storage/simple-example.adoc:160
#: source/server_development/topics/user-storage/simple-example.adoc:182
#: source/server_development/topics/user-storage/simple-example.adoc:229
#: source/server_development/topics/user-storage/simple-example.adoc:243
#: source/server_development/topics/admin-rest-api.adoc:49
#: source/server_development/topics/auth-spi.adoc:170
#: source/server_development/topics/auth-spi.adoc:186
#: source/server_development/topics/auth-spi.adoc:199
#: source/server_development/topics/auth-spi.adoc:231
#: source/server_development/topics/auth-spi.adoc:259
#: source/server_development/topics/auth-spi.adoc:287
#: source/server_development/topics/auth-spi.adoc:310
#: source/server_development/topics/auth-spi.adoc:327
#: source/server_development/topics/auth-spi.adoc:341
#: source/server_development/topics/auth-spi.adoc:383
#: source/server_development/topics/auth-spi.adoc:437
#: source/server_development/topics/auth-spi.adoc:452
#: source/server_development/topics/auth-spi.adoc:474
#: source/server_development/topics/auth-spi.adoc:498
#: source/server_development/topics/auth-spi.adoc:546
#: source/server_development/topics/auth-spi.adoc:585
#: source/server_development/topics/auth-spi.adoc:625
#: source/server_development/topics/auth-spi.adoc:681
#: source/server_development/topics/auth-spi.adoc:708
#: source/server_development/topics/extensions.adoc:21
#: source/server_development/topics/extensions.adoc:41
#: source/server_development/topics/extensions.adoc:99
#: source/server_development/topics/extensions.adoc:130
#: source/server_development/topics/providers.adoc:18
#: source/server_development/topics/providers.adoc:53
#: source/server_development/topics/providers.adoc:111
#: source/server_development/topics/providers.adoc:121
#: source/server_development/topics/providers.adoc:157
#: source/server_development/topics/providers.adoc:279
#: source/server_development/topics/providers.adoc:323
#: source/server_development/topics/identity-brokering/account-linking.adoc:24
#: source/server_development/topics/identity-brokering/account-linking.adoc:54
#: source/server_development/topics/identity-brokering/tokens.adoc:12
#, no-wrap
msgid "[source,java]\n"
msgstr ""

#. type: delimited block -
#: source/securing_apps/topics/oidc/java/multi-tenancy.adoc:41
#: source/server_development/topics/user-storage/provider-interfaces.adoc:52
#: source/server_development/topics/extensions.adoc:70
#: source/server_development/topics/providers.adoc:143
#, no-wrap
msgid "}\n"
msgstr ""

#. type: delimited block -
#: source/securing_apps/topics/saml/java/assertion-api.adoc:57
#: source/server_development/topics/user-storage/configuration.adoc:18
#: source/server_development/topics/user-storage/configuration.adoc:23
#: source/server_development/topics/user-storage/configuration.adoc:28
#: source/server_development/topics/user-storage/provider-interfaces.adoc:26
#: source/server_development/topics/user-storage/provider-interfaces.adoc:38
#: source/server_development/topics/user-storage/provider-interfaces.adoc:50
#: source/server_development/topics/user-storage/registration-query.adoc:109
#: source/server_development/topics/user-storage/simple-example.adoc:146
#: source/server_development/topics/providers.adoc:75
#, no-wrap
msgid "    }\n"
msgstr ""

#. type: Title ===
#: source/server_development/topics/user-storage/provider-interfaces.adoc:2
#, no-wrap
msgid "Provider Interfaces"
msgstr ""

#. type: Plain text
#: source/server_development/topics/user-storage/provider-interfaces.adoc:8
#, no-wrap
msgid "When building an implementation of the User Storage SPI you have to define a provider class and a provider factory.\n"
"Provider class instances are created per transaction by provider factories.\n"
"Provider classes do all the heavy lifting of user lookup and other user operations.  They must implement the\n"
"`org.keycloak.storage.UserStorageProvider` interface.\n"
msgstr ""

#. type: delimited block -
#: source/server_development/topics/user-storage/provider-interfaces.adoc:12
#: source/server_development/topics/user-storage/provider-interfaces.adoc:61
#, no-wrap
msgid "package org.keycloak.storage;\n"
msgstr ""

#. type: delimited block -
#: source/server_development/topics/user-storage/provider-interfaces.adoc:14
#, no-wrap
msgid "public interface UserStorageProvider extends Provider {\n"
msgstr ""

#. type: delimited block -
#: source/server_development/topics/user-storage/provider-interfaces.adoc:24
#, no-wrap
msgid "    /**\n"
"     * Callback when a realm is removed.  Implement this if, for example, you want to do some\n"
"     * cleanup in your user storage when a realm is removed\n"
"     *\n"
"     * @param realm\n"
"     */\n"
"    default\n"
"    void preRemove(RealmModel realm) {\n"
msgstr ""

#. type: delimited block -
#: source/server_development/topics/user-storage/provider-interfaces.adoc:36
#, no-wrap
msgid "    /**\n"
"     * Callback when a group is removed.  Allows you to do things like remove a user\n"
"     * group mapping in your external store if appropriate\n"
"     *\n"
"     * @param realm\n"
"     * @param group\n"
"     */\n"
"    default\n"
"    void preRemove(RealmModel realm, GroupModel group) {\n"
msgstr ""

#. type: delimited block -
#: source/server_development/topics/user-storage/provider-interfaces.adoc:42
#, no-wrap
msgid "    /**\n"
"     * Callback when a role is removed.  Allows you to do things like remove a user\n"
"     * role mapping in your external store if appropriate\n"
msgstr ""

#. type: delimited block -
#: source/server_development/topics/user-storage/provider-interfaces.adoc:48
#, no-wrap
msgid "     * @param realm\n"
"     * @param role\n"
"     */\n"
"    default\n"
"    void preRemove(RealmModel realm, RoleModel role) {\n"
msgstr ""

#. type: Plain text
#: source/server_development/topics/user-storage/provider-interfaces.adoc:55
#, no-wrap
msgid "You may be thinking that the `UserStorageProvider` interface is pretty sparse? You'll see later in this chapter that there are other mix-in interfaces your provider class may implement to support the meat of user integration.\n"
msgstr ""

#. type: Plain text
#: source/server_development/topics/user-storage/provider-interfaces.adoc:57
#, no-wrap
msgid "`UserStorageProvider` instances are created once per transaction. When the transaction is complete, the `UserStorageProvider.close()` method is invoked and the instance is then garbage collected. Instances are created by provider factories. Provider factories implement the `org.keycloak.storage.UserStorageProviderFactory` interface.\n"
msgstr ""

#. type: delimited block -
#: source/server_development/topics/user-storage/provider-interfaces.adoc:67
#, no-wrap
msgid "/**\n"
" * @author <a href=\"mailto:bill@burkecentral.com\">Bill Burke</a>\n"
" * @version $Revision: 1 $\n"
" */\n"
"public interface UserStorageProviderFactory<T extends UserStorageProvider> extends ComponentFactory<T, UserStorageProvider> {\n"
msgstr ""

#. type: delimited block -
#: source/server_development/topics/user-storage/provider-interfaces.adoc:75
#, no-wrap
msgid "    /**\n"
"     * This is the name of the provider and will be showed in the admin console as an option.\n"
"     *\n"
"     * @return\n"
"     */\n"
"    @Override\n"
"    String getId();\n"
msgstr ""

#. type: delimited block -
#: source/server_development/topics/user-storage/provider-interfaces.adoc:86
#, no-wrap
msgid "    /**\n"
"     * called per Keycloak transaction.\n"
"     *\n"
"     * @param session\n"
"     * @param model\n"
"     * @return\n"
"     */\n"
"    T create(KeycloakSession session, ComponentModel model);\n"
"...\n"
"}\n"
msgstr ""

#. type: Plain text
#: source/server_development/topics/user-storage/provider-interfaces.adoc:92
#, no-wrap
msgid "Provider factory classses must specify the concrete provider class as a template parameter when implementing the\n"
"`UserStorageProviderFactory`.  This is a must as the runtime will introspect this class to scan for its capabilities\n"
"(the other interfaces it implements).  So for example, if your provider class is named `FileProvider`, then the\n"
"factory class should look like this:\n"
msgstr ""

#. type: delimited block -
#: source/server_development/topics/user-storage/provider-interfaces.adoc:96
#, no-wrap
msgid "public class FileProviderFactory implements UserStorageProviderFactory<FileProvider> {\n"
msgstr ""

#. type: delimited block -
#: source/server_development/topics/user-storage/provider-interfaces.adoc:98
#, no-wrap
msgid "    public String getId() { return \"file-provider\"; }\n"
msgstr ""

#. type: delimited block -
#: source/server_development/topics/user-storage/provider-interfaces.adoc:102
#, no-wrap
msgid "    public FileProvider create(KeycloakSession session, ComponentModel model) {\n"
"       ...\n"
"    }\n"
msgstr ""

#. type: Plain text
#: source/server_development/topics/user-storage/provider-interfaces.adoc:106
#, no-wrap
msgid "The `getId()` method returns the name of the User Storage provider.  This id will be displayed in the admin console's\n"
"`UserFederation` page when you want to enable the provider for a specific realm.\n"
msgstr ""

#. type: Plain text
#: source/server_development/topics/user-storage/provider-interfaces.adoc:112
#, no-wrap
msgid "The `create()` method is responsible for allocating an instance of the provider class.  It takes a `org.keycloak.models.KeycloakSession`\n"
"parameter.  This object can be used to lookup other information and metadata as well as provide access to various other\n"
"components within the runtime.  The `ComponentModel` parameter represents how the provider was enabled and configured within\n"
"a specific realm.  It contains the instance id of the enabled provider as well as any configuration you may have specified\n"
"for it when you enabled through the admin console.\n"
msgstr ""

#. type: Plain text
#: source/server_development/topics/user-storage/provider-interfaces.adoc:114
#, no-wrap
msgid "The `UserStorageProviderFactory` has other capabilities as well which we will go over later in this chapter.\n"
msgstr ""

