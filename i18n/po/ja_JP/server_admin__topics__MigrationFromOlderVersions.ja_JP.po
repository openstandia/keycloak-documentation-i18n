msgid ""
msgstr ""
"Project-Id-Version: keycloak-documentation-i18n\n"
"POT-Creation-Date: 2017-09-20 08:59+0000\n"
"PO-Revision-Date: 2017-09-20 05:30-0400\n"
"Last-Translator: wadahiro <wadahiro@gmail.com>\n"
"Language-Team: Japanese\n"
"Language: ja_JP\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"
"Plural-Forms: nplurals=1; plural=0;\n"
"X-Generator: crowdin.com\n"
"X-Crowdin-Project: keycloak-documentation-i18n\n"
"X-Crowdin-Language: ja\n"
"X-Crowdin-File: /master/i18n/pot/server_admin__topics__MigrationFromOlderVersions.pot\n"

#. type: Plain text
#: source/getting_started/topics/secure-jboss-app/subsystem.adoc:10
#: source/getting_started/topics/secure-jboss-app/subsystem.adoc:17
#: source/getting_started/topics/secure-jboss-app/subsystem.adoc:25
#: source/getting_started/topics/secure-jboss-app/subsystem.adoc:40
#: source/server_installation/topics/operating-mode/domain.adoc:62
#: source/server_installation/topics/operating-mode/domain.adoc:78
#: source/server_installation/topics/operating-mode/domain.adoc:108
#: source/server_installation/topics/operating-mode/domain.adoc:145
#: source/server_installation/topics/operating-mode/domain.adoc:159
#: source/server_installation/topics/operating-mode/domain.adoc:263
#: source/server_installation/topics/database/datasource.adoc:11
#: source/server_installation/topics/database/hibernate.adoc:8
#: source/server_installation/topics/database/jdbc.adoc:15
#: source/server_installation/topics/database/jdbc.adoc:40
#: source/server_installation/topics/database/jdbc.adoc:58
#: source/server_installation/topics/cache/disable.adoc:11
#: source/server_installation/topics/cache/eviction.adoc:16
#: source/server_installation/topics/cache/eviction.adoc:42
#: source/server_installation/topics/cache/replication.adoc:14
#: source/server_installation/topics/clustering/load-balancer.adoc:104
#: source/server_installation/topics/clustering/load-balancer.adoc:180
#: source/server_installation/topics/clustering/multicast.adoc:11
#: source/server_installation/topics/clustering/serialized.adoc:16
#: source/server_installation/topics/clustering/sticky-sessions.adoc:63
#: source/server_installation/topics/clustering/sticky-sessions.adoc:77
#: source/server_installation/topics/clustering/sticky-sessions.adoc:87
#: source/server_installation/topics/clustering/sticky-sessions.adoc:112
#: source/server_installation/topics/network/bind-address.adoc:26
#: source/server_installation/topics/network/https.adoc:128
#: source/server_installation/topics/network/outgoing.adoc:11
#: source/server_installation/topics/network/outgoing.adoc:85
#: source/server_installation/topics/network/ports.adoc:11
#: source/server_installation/topics/network/ports.adoc:45
#: source/securing_apps/topics/oidc/java/adapter_error_handling.adoc:11
#: source/securing_apps/topics/oidc/java/jboss-adapter.adoc:140
#: source/securing_apps/topics/oidc/java/jboss-adapter.adoc:196
#: source/securing_apps/topics/oidc/java/jboss-adapter.adoc:225
#: source/securing_apps/topics/oidc/java/multi-tenancy.adoc:46
#: source/securing_apps/topics/oidc/java/servlet-filter-adapter.adoc:13
#: source/securing_apps/topics/oidc/java/servlet-filter-adapter.adoc:43
#: source/securing_apps/topics/oidc/java/fuse/camel.adoc:10
#: source/securing_apps/topics/oidc/java/fuse/camel.adoc:105
#: source/securing_apps/topics/oidc/java/fuse/classic-war.adoc:15
#: source/securing_apps/topics/oidc/java/fuse/classic-war.adoc:57
#: source/securing_apps/topics/oidc/java/fuse/classic-war.adoc:96
#: source/securing_apps/topics/oidc/java/fuse/cxf-builtin.adoc:10
#: source/securing_apps/topics/oidc/java/fuse/cxf-separate.adoc:10
#: source/securing_apps/topics/oidc/java/fuse/cxf-separate.adoc:85
#: source/securing_apps/topics/oidc/java/fuse/hawtio.adoc:119
#: source/securing_apps/topics/oidc/java/fuse/servlet-whiteboard.adoc:13
#: source/securing_apps/topics/oidc/mod-auth-openidc.adoc:19
#: source/securing_apps/topics/saml/java/error_handling.adoc:11
#: source/securing_apps/topics/saml/java/jetty-adapter/jetty9_per_war_config.adoc:11
#: source/securing_apps/topics/saml/java/jetty-adapter/jetty9_per_war_config.adoc:31
#: source/securing_apps/topics/saml/java/logout.adoc:21
#: source/securing_apps/topics/saml/java/logout.adoc:31
#: source/securing_apps/topics/saml/java/servlet-filter-adapter.adoc:19
#: source/securing_apps/topics/saml/java/general-config/idp_element.adoc:7
#: source/securing_apps/topics/saml/java/general-config/idp_httpclient_subelement.adoc:11
#: source/securing_apps/topics/saml/java/general-config/idp_keys_subelement.adoc:34
#: source/securing_apps/topics/saml/java/general-config/idp_singlelogoutservice_subelement.adoc:8
#: source/securing_apps/topics/saml/java/general-config/idp_singlesignonservice_subelement.adoc:10
#: source/securing_apps/topics/saml/java/general-config/roleidentifiers_element.adoc:8
#: source/securing_apps/topics/saml/java/general-config/sp-keys.adoc:13
#: source/securing_apps/topics/saml/java/general-config/sp_element.adoc:7
#: source/securing_apps/topics/saml/java/general-config/sp_principalname_mapping_element.adoc:8
#: source/securing_apps/topics/saml/java/general-config/sp-keys/key_pems.adoc:10
#: source/securing_apps/topics/saml/java/general-config/sp-keys/keystore_element.adoc:9
#: source/securing_apps/topics/saml/java/tomcat-adapter/tomcat_adapter_per_war_config.adoc:10
#: source/securing_apps/topics/saml/java/tomcat-adapter/tomcat_adapter_per_war_config.adoc:23
#: source/securing_apps/topics/saml/java/jboss-adapter/jboss_adapter_installation.adoc:73
#: source/securing_apps/topics/saml/java/jboss-adapter/jboss_adapter_installation.adoc:92
#: source/securing_apps/topics/saml/java/jboss-adapter/jboss_adapter_installation.adoc:111
#: source/securing_apps/topics/saml/java/jboss-adapter/required_per_war_configuration.adoc:14
#: source/securing_apps/topics/saml/java/jboss-adapter/securing_wars.adoc:11
#: source/securing_apps/topics/saml/java/jboss-adapter/securing_wars.adoc:35
#: source/securing_apps/topics/saml/mod-auth-mellon.adoc:76
#: source/server_admin/topics/events/login.adoc:97
#: source/server_admin/topics/MigrationFromOlderVersions.adoc:77
#: source/server_admin/topics/MigrationFromOlderVersions.adoc:133
#: source/server_admin/topics/MigrationFromOlderVersions.adoc:168
#: source/server_development/topics/user-storage/simple-example.adoc:216
#: source/server_development/topics/providers.adoc:97
#: source/server_development/topics/providers.adoc:228
#: source/server_development/topics/providers.adoc:260
#: source/server_development/topics/themes.adoc:33
#: source/server_development/topics/themes.adoc:71
#: source/server_development/topics/themes.adoc:348
#: source/server_development/topics/themes.adoc:363
#, no-wrap
msgid "[source,xml]\n"
msgstr ""

#.  MOVED TO SEPARATE UPGRADE GUIDE!
#.  Add Keycloak migration changes to upgrading/topics/keycloak/changes.adoc
#. type: Title ==
#: source/securing_apps/topics/saml/java/MigrationFromOlderVersions.adoc:1
#: source/server_admin/topics/MigrationFromOlderVersions.adoc:6
#, no-wrap
msgid "Migration from older versions"
msgstr ""

#. type: Plain text
#: source/server_admin/topics/MigrationFromOlderVersions.adoc:10
#, no-wrap
msgid "To upgrade to a new version of Keycloak first download and install the new version of Keycloak. Once the new version\n"
"is installed migrate the config files, database, keycloak-server.json, providers, themes and applications to the new applications.\n"
msgstr ""

#. type: Plain text
#: source/server_admin/topics/MigrationFromOlderVersions.adoc:14
#, no-wrap
msgid "This chapter contains some general migration details which are applicable to all versions. There are instructions for\n"
"migration that is only applicable to a specific release. If you are upgrading from a very old version you need to go\n"
"through all intermediate version specific migration.\n"
msgstr ""

#. type: Plain text
#: source/server_admin/topics/MigrationFromOlderVersions.adoc:16
#, no-wrap
msgid "It's highly recommended that you backup your database prior to upgrading Keycloak.\n"
msgstr ""

#. type: Plain text
#: source/server_admin/topics/MigrationFromOlderVersions.adoc:19
#, no-wrap
msgid "Migration from a candidate release (CR) to a Final release is not supported. We do however recommend that you test\n"
"migration for a CR so we can resolve any potential issues before the Final is released.\n"
msgstr ""

#. type: Title ===
#: source/server_admin/topics/MigrationFromOlderVersions.adoc:20
#, no-wrap
msgid "Migration of config files using migration scripts"
msgstr ""

#. type: Plain text
#: source/server_admin/topics/MigrationFromOlderVersions.adoc:24
#, no-wrap
msgid "As part of your migration, you should use your old versions of config files `standalone.xml`, `standalone-ha.xml`, and/or `domain.xml`.\n"
"These files typically contain configuration that is unique to your own environment.  So, the first thing to do as part\n"
"of a migration is to copy those files to the new Keycloak server installation, replacing the default versions.\n"
msgstr ""

#. type: Plain text
#: source/server_admin/topics/MigrationFromOlderVersions.adoc:27
#, no-wrap
msgid "If migrating from Keycloak version 2.1.0 or older, you should also copy `keycloak-server.json` to `standalone/configuration`\n"
"and/or `domain/configuration`.\n"
msgstr ""

#. type: Plain text
#: source/server_admin/topics/MigrationFromOlderVersions.adoc:31
#, no-wrap
msgid "There will be configuration in those config files that pertains to Keycloak, which will need to be upgraded.  For that,\n"
"you should run one or more of the appropriate upgrade scripts.  They are `migrate-standalone.cli`, `migrate-standalone-ha.cli`, \n"
"`migrate-domain-standalone.cli` and `migrate-domain-clustered.cli`.\n"
msgstr ""

#. type: Plain text
#: source/server_admin/topics/MigrationFromOlderVersions.adoc:33
#, no-wrap
msgid "The server should not be running when you execute a migration script.\n"
msgstr ""

#. type: Block title
#: source/server_admin/topics/MigrationFromOlderVersions.adoc:34
#, no-wrap
msgid "Example for running migrate-standalone.cli"
msgstr ""

#. type: delimited block -
#: source/server_admin/topics/MigrationFromOlderVersions.adoc:38
#, no-wrap
msgid "$ .../bin/jboss-cli.sh --file=migrate-standalone.cli\n"
msgstr ""

#. type: Plain text
#: source/server_admin/topics/MigrationFromOlderVersions.adoc:44
#, no-wrap
msgid "Note that for upgrading domain.xml, there are two migration scripts, `migrate-domain-standalone.cli` and\n"
"`migrate-domain-clustered.cli`.  These scripts migrate separate profiles within your domain.xml that were\n"
"originally shipped with Keycloak.  If you have changed the name of the profile there is a variable near\n"
"the top of the script that you will need to change.\n"
msgstr ""

#. type: Plain text
#: source/server_admin/topics/MigrationFromOlderVersions.adoc:47
#, no-wrap
msgid "If you are migrating `keycloak-server.json`, this will also be migrated as needed.  If you prefer,\n"
"you can migrate `keycloak-server.json` beforehand using the instructions in the next section.\n"
msgstr ""

#. type: Plain text
#: source/server_admin/topics/MigrationFromOlderVersions.adoc:50
#, no-wrap
msgid "One thing to note is that the migration scripts only work for Keycloak versions 1.8.1 forward.  If migrating an older\n"
"version you will need to manually upgrade your config files to at least be 1.8.1 compliant.\n"
msgstr ""

#. type: Plain text
#: source/server_admin/topics/MigrationFromOlderVersions.adoc:54
#, no-wrap
msgid "Lastly, you may want to examine the contents of the scripts before running.  They show exactly what will be changed\n"
"for each version.  They also have values at the top of the script that you may need to change based on your\n"
"environment.\n"
msgstr ""

#. type: Title ===
#: source/server_admin/topics/MigrationFromOlderVersions.adoc:55
#, no-wrap
msgid "Migrate and convert keycloak-server.json"
msgstr ""

#. type: Plain text
#: source/server_admin/topics/MigrationFromOlderVersions.adoc:59
#, no-wrap
msgid "If you ran one of the migration scripts from the previous section then you have probably already migrated\n"
"your keycloak-server.json.  This section is kept here for reference.  If you prefer, you can follow the\n"
"instructions in this section before running the migration scripts above.\n"
msgstr ""

#. type: Plain text
#: source/server_admin/topics/MigrationFromOlderVersions.adoc:62
#, no-wrap
msgid "You should copy `standalone/configuration/keycloak-server.json` from the old version to make sure any configuration changes you've done are added to the new installation.\n"
"The version specific section below will list any changes done to this file that you have to do when upgrading from one version to another.\n"
msgstr ""

#. type: Plain text
#: source/server_admin/topics/MigrationFromOlderVersions.adoc:67
#, no-wrap
msgid "Keycloak is moving away from the use of keycloak-server.json.  For this release, the server will still work\n"
"if this file is in `standalone/configuration/keycloak-server.json`, but it is highly recommended that\n"
"you convert to using standalone.xml, standalone-ha.xml, or domain.xml for configuration. We may soon remove\n"
"support for keycloak-server.json.\n"
msgstr ""

#. type: Plain text
#: source/server_admin/topics/MigrationFromOlderVersions.adoc:70
#, no-wrap
msgid "To convert your keycloak-server.json, you will use a jboss-cli operation called `migrate-json`.\n"
"It is recommended that you run this operation while the server is not running.\n"
msgstr ""

#. type: Plain text
#: source/server_admin/topics/MigrationFromOlderVersions.adoc:74
#, no-wrap
msgid "The `migrate-json` operation assumes you are migrating with an xml configuration file from an old version.  For example,\n"
"you should not try to migrate your keycloak-server.json to a standalone.xml file that already contains <spi> and <theme>\n"
"tags under the keycloak subsystem.  Before migration, your keycloak subsystem should look like the one below:\n"
msgstr ""

#. type: Block title
#: source/server_admin/topics/MigrationFromOlderVersions.adoc:75
#, no-wrap
msgid "standalone.xml"
msgstr ""

#. type: delimited block -
#: source/server_admin/topics/MigrationFromOlderVersions.adoc:81
#, no-wrap
msgid "<subsystem xmlns=\"urn:jboss:domain:keycloak-server:1.1\">\n"
"    <web-context>auth</web-context>\n"
"</subsystem>\n"
msgstr ""

#. type: Plain text
#: source/server_admin/topics/MigrationFromOlderVersions.adoc:84
#, no-wrap
msgid "The jboss-cli tool is discussed in detail in link:{installguide_link}[{installguide_name}].\n"
msgstr ""

#. type: Title ====
#: source/server_admin/topics/MigrationFromOlderVersions.adoc:85
#, no-wrap
msgid "migrate-json in Standalone Mode"
msgstr ""

#. type: Plain text
#: source/server_admin/topics/MigrationFromOlderVersions.adoc:89
#, no-wrap
msgid "For standalone, you will issue the `migrate-json` operation in `embed` mode without\n"
"the server running.\n"
msgstr ""

#. type: Block title
#: source/server_admin/topics/MigrationFromOlderVersions.adoc:90
#, no-wrap
msgid "Standalone keycloak-server.json migration"
msgstr ""

#. type: delimited block -
#: source/server_admin/topics/MigrationFromOlderVersions.adoc:96
#, no-wrap
msgid "$ .../bin/jboss-cli.sh\n"
"[disconnected /] embed-server --server-config=standalone.xml\n"
"[standalone@embedded /] /subsystem=keycloak-server/:migrate-json\n"
msgstr ""

#. type: Plain text
#: source/server_admin/topics/MigrationFromOlderVersions.adoc:100
#, no-wrap
msgid "The `migrate-json` operation will look for your keycloak-server.json file in\n"
"the `standalone/configuration` directory.  You also have the option of using\n"
"the `file` argument as shown in the domain mode example below.\n"
msgstr ""

#. type: Title ====
#: source/server_admin/topics/MigrationFromOlderVersions.adoc:101
#, no-wrap
msgid "migrate-json in Domain Mode"
msgstr ""

#. type: Plain text
#: source/server_admin/topics/MigrationFromOlderVersions.adoc:107
#, no-wrap
msgid "For a domain, you will stop the Keycloak server and\n"
"issue the `migrate-json` operation against the running domain controller.\n"
"If you choose not to stop the Keycloak server, the operation will still work,\n"
"but your changes will not take affect until the Keycloak server is restarted.\n"
msgstr ""

#. type: Plain text
#: source/server_admin/topics/MigrationFromOlderVersions.adoc:111
#, no-wrap
msgid "Domain mode migration requires that you use the `file` parameter to upload your\n"
"keycloak-server.json from a local directory.  The example below shows connecting\n"
"to localhost.  You will need to substitute the address of your domain controller.\n"
msgstr ""

#. type: Block title
#: source/server_admin/topics/MigrationFromOlderVersions.adoc:112
#, no-wrap
msgid "Domain mode keycloak-server.json migration"
msgstr ""

#. type: delimited block -
#: source/server_admin/topics/MigrationFromOlderVersions.adoc:119
#, no-wrap
msgid "$ .../bin/jboss-cli.sh -c --controller=localhost:9990\n"
"[domain@localhost:9990 /] cd profile=auth-server-clustered\n"
"[domain@localhost:9990 profile=auth-server-clustered] cd subsystem=keycloak-server\n"
"[domain@localhost:9990 subsystem=keycloak-server] :migrate-json(file=\"./keycloak-server.json\")\n"
msgstr ""

#. type: Plain text
#: source/server_admin/topics/MigrationFromOlderVersions.adoc:121
#, no-wrap
msgid "You will need to repeat the `migrate-json` operation for each profile containing a `keycloak-server` subsystem.\n"
msgstr ""

#. type: Title ===
#: source/server_admin/topics/MigrationFromOlderVersions.adoc:122
#, no-wrap
msgid "Migrate database"
msgstr ""

#. type: Plain text
#: source/server_admin/topics/MigrationFromOlderVersions.adoc:125
#, no-wrap
msgid "Keycloak can automatically migrate the database schema, or you can choose to do it manually.\n"
msgstr ""

#. type: Title ====
#: source/server_admin/topics/MigrationFromOlderVersions.adoc:126
#, no-wrap
msgid "Relational database"
msgstr ""

#. type: Plain text
#: source/server_admin/topics/MigrationFromOlderVersions.adoc:130
#, no-wrap
msgid "To enable automatic upgrading of the database schema set the `migrationStrategy` property to `update` for\n"
"the default `connectionsJpa` provider:\n"
msgstr ""

#. type: Block title
#: source/server_admin/topics/MigrationFromOlderVersions.adoc:131
#: source/server_admin/topics/MigrationFromOlderVersions.adoc:166
#, no-wrap
msgid "Edit xml"
msgstr ""

#. type: delimited block -
#: source/server_admin/topics/MigrationFromOlderVersions.adoc:142
#, no-wrap
msgid "<spi name=\"connectionsJpa\">\n"
"    <provider name=\"default\" enabled=\"true\">\n"
"        <properties>\n"
"            ...\n"
"            <property name=\"migrationStrategy\" value=\"update\"/>\n"
"        </properties>\n"
"    </provider>\n"
"</spi>\n"
msgstr ""

#. type: Block title
#: source/server_admin/topics/MigrationFromOlderVersions.adoc:144
#: source/server_admin/topics/MigrationFromOlderVersions.adoc:179
#, no-wrap
msgid "Equivalent CLI command for above"
msgstr ""

#. type: delimited block -
#: source/server_admin/topics/MigrationFromOlderVersions.adoc:148
#: source/upgrading/topics/migrate_db.adoc:27
#, no-wrap
msgid "/subsystem=keycloak-server/spi=connectionsJpa/provider=default/:map-put(name=properties,key=migrationStrategy,value=update)\n"
msgstr ""

#. type: Plain text
#: source/server_admin/topics/MigrationFromOlderVersions.adoc:152
#, no-wrap
msgid "When you start the server with this setting your database will automatically be migrated if the database schema has\n"
"changed in the new version.\n"
msgstr ""

#. type: Plain text
#: source/server_admin/topics/MigrationFromOlderVersions.adoc:156
#, no-wrap
msgid "To manually migrate the database set the `migrationStrategy` to `manual`. When you start the server with this\n"
"configuration it will check if the database needs migration. If changes are needed the required changes are written\n"
"to an SQL file that you can review and manually run against the database.\n"
msgstr ""

#. type: Plain text
#: source/server_admin/topics/MigrationFromOlderVersions.adoc:159
#: source/server_admin/topics/MigrationFromOlderVersions.adoc:189
#, no-wrap
msgid "There's also the option to disable migration by setting the `migrationStrategy` to `validate`. With this configuration\n"
"the database will be checked at startup and if it is not migrated the server will exit.\n"
msgstr ""

#. type: Title ====
#: source/server_admin/topics/MigrationFromOlderVersions.adoc:160
#, no-wrap
msgid "Mongo"
msgstr ""

#. type: Plain text
#: source/server_admin/topics/MigrationFromOlderVersions.adoc:165
#, no-wrap
msgid "Mongo doesn't have a schema, but there may still be things like collections and indexes that are added to new releases.\n"
"To enable automatic creation of these set the `migrationStrategy` property to `update` for the default `connectionsMongo`\n"
"provider:\n"
msgstr ""

#. type: delimited block -
#: source/server_admin/topics/MigrationFromOlderVersions.adoc:177
#, no-wrap
msgid "<spi name=\"connectionsMongo\">\n"
"    <provider name=\"default\" enabled=\"true\">\n"
"        <properties>\n"
"            ...\n"
"            <property name=\"migrationStrategy\" value=\"update\"/>\n"
"        </properties>\n"
"    </provider>\n"
"</spi>\n"
msgstr ""

#. type: delimited block -
#: source/server_admin/topics/MigrationFromOlderVersions.adoc:183
#, no-wrap
msgid "/subsystem=keycloak-server/spi=connectionsMongo/provider=default/:map-put(name=properties,key=migrationStrategy,value=update)\n"
msgstr ""

#. type: Plain text
#: source/server_admin/topics/MigrationFromOlderVersions.adoc:186
#, no-wrap
msgid "The Mongo provider does not have the option to manually apply the required changes.\n"
msgstr ""

#. type: Title ===
#: source/server_admin/topics/MigrationFromOlderVersions.adoc:190
#, no-wrap
msgid "Migrate providers"
msgstr ""

#. type: Plain text
#: source/server_admin/topics/MigrationFromOlderVersions.adoc:195
#, no-wrap
msgid "If you have implemented any SPI providers you need to copy them to the new server.\n"
"The version specific section below will mention if any of the SPI's have changed.\n"
"If they have you may have to update your code accordingly.\n"
msgstr ""

#. type: Title ===
#: source/server_admin/topics/MigrationFromOlderVersions.adoc:196
#, no-wrap
msgid "Migrate themes"
msgstr ""

#. type: Plain text
#: source/server_admin/topics/MigrationFromOlderVersions.adoc:201
#, no-wrap
msgid "If you have created a custom theme you need to copy them to the new server.\n"
"The version specific section below will mention if changes have been made to themes.\n"
"If there is you may have to update your themes accordingly.\n"
msgstr ""

#. type: Title ===
#: source/server_admin/topics/MigrationFromOlderVersions.adoc:202
#, no-wrap
msgid "Migrate application"
msgstr ""

#. type: Plain text
#: source/server_admin/topics/MigrationFromOlderVersions.adoc:206
#, no-wrap
msgid "If you deploy applications directly to the Keycloak server you should copy them to the new server.\n"
"For any applications including those not deployed directly to the Keycloak server you should upgrade the adapter.\n"
"The version specific section below will mention if any changes are required to applications.\n"
msgstr ""

