# SOME DESCRIPTIVE TITLE
# Copyright (C) YEAR Nomura Research Institute, Ltd.
# This file is distributed under the same license as the keycloak-documentation-i18n package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: keycloak-documentation-i18n  \n"
"POT-Creation-Date: 2017-09-20 08:59+0000\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"Language: \n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#. type: Title ====
#: source/authorization_services/topics/permission/create-resource.adoc:11
#: source/authorization_services/topics/permission/create-scope.adoc:11
#: source/authorization_services/topics/service/client-api.adoc:21
#: source/authorization_services/topics/policy/aggregated-policy.adoc:19
#: source/authorization_services/topics/policy/client-policy.adoc:11
#: source/authorization_services/topics/policy/drools-policy.adoc:13
#: source/authorization_services/topics/policy/js-policy.adoc:12
#: source/authorization_services/topics/policy/role-policy.adoc:15
#: source/authorization_services/topics/policy/time-policy.adoc:11
#: source/authorization_services/topics/policy/user-policy.adoc:11
#, no-wrap
msgid "Configuration"
msgstr ""

#.  now you can use the RPT to access protected resources on the resource server
#. type: Plain text
#: source/authorization_services/topics/getting-started/hello-world/deploy.adoc:99
#: source/authorization_services/topics/service/client-api.adoc:82
#: source/authorization_services/topics/service/client-api.adoc:109
#, no-wrap
msgid "```\n"
msgstr ""

#. type: Title ===
#: source/authorization_services/topics/service/client-api.adoc:2
#, no-wrap
msgid "Authorization Client Java API"
msgstr ""

#. type: Plain text
#: source/authorization_services/topics/service/client-api.adoc:6
#, no-wrap
msgid ""
"Depending on your requirements, a resource server should be able to manage resources remotely or even check for permissions programmatically.\n"
"If you are using Java, you can access the {project_name} Authorization Services using the Authorization Client API.\n"
msgstr ""

#. type: Plain text
#: source/authorization_services/topics/service/client-api.adoc:8
#, no-wrap
msgid "It is targeted for resource servers that want to access the different APIs provided by the server such as the Protection, Authorization and Entitlement APIs.\n"
msgstr ""

#. type: Title ====
#: source/authorization_services/topics/service/client-api.adoc:9
#, no-wrap
msgid "Maven Dependency"
msgstr ""

#. type: Plain text
#: source/authorization_services/topics/service/client-api.adoc:20
#, no-wrap
msgid ""
"```xml\n"
"<dependencies>\n"
"    <dependency>\n"
"        <groupId>org.keycloak</groupId>\n"
"        <artifactId>keycloak-authz-client</artifactId>\n"
"        <version>${KEYCLOAK_VERSION}</version>\n"
"    </dependency>\n"
"</dependencies>\n"
"```\n"
msgstr ""

#. type: Plain text
#: source/authorization_services/topics/service/client-api.adoc:24
#, no-wrap
msgid "The client configuration is defined in a ``keycloak.json`` file as follows:\n"
msgstr ""

#. type: Plain text
#: source/authorization_services/topics/service/client-api.adoc:35
#, no-wrap
msgid ""
"```json\n"
"{\n"
"  \"realm\": \"hello-world-authz\",\n"
"  \"auth-server-url\" : \"http://localhost:8080/auth\",\n"
"  \"resource\" : \"hello-world-authz-service\",\n"
"  \"credentials\": {\n"
"    \"secret\": \"secret\"\n"
"  }\n"
"}\n"
"```\n"
msgstr ""

#. type: Plain text
#: source/authorization_services/topics/service/client-api.adoc:37
#, no-wrap
msgid "*realm* (required)\n"
msgstr ""

#. type: Plain text
#: source/authorization_services/topics/service/client-api.adoc:39
#, no-wrap
msgid "The name of the realm.\n"
msgstr ""

#. type: Plain text
#: source/authorization_services/topics/service/client-api.adoc:41
#, no-wrap
msgid "*auth-server-url* (required)\n"
msgstr ""

#. type: Plain text
#: source/authorization_services/topics/service/client-api.adoc:43
#, no-wrap
msgid "The base URL of the {project_name} server. All other {project_name} pages and REST service endpoints are derived from this. It is usually in the form https://host:port/auth.\n"
msgstr ""

#. type: Plain text
#: source/authorization_services/topics/service/client-api.adoc:45
#, no-wrap
msgid "*resource* (required)\n"
msgstr ""

#. type: Plain text
#: source/authorization_services/topics/service/client-api.adoc:47
#, no-wrap
msgid "The client-id of the application. Each application has a client-id that is used to identify the application. \n"
msgstr ""

#. type: Plain text
#: source/authorization_services/topics/service/client-api.adoc:50
#, no-wrap
msgid ""
"*credentials* (required)\n"
"Specifies the credentials of the application. This is an object notation where the key is the credential type and the value is the value of the credential type.\n"
msgstr ""

#. type: Plain text
#: source/authorization_services/topics/service/client-api.adoc:52
#, no-wrap
msgid "The configuration file is usually located in your application's classpath, the default location from where the client is going to try to find a ```keycloak.json``` file.\n"
msgstr ""

#. type: Title ====
#: source/authorization_services/topics/service/client-api.adoc:53
#, no-wrap
msgid "Creating the Authorization Client"
msgstr ""

#. type: Plain text
#: source/authorization_services/topics/service/client-api.adoc:56
#, no-wrap
msgid "Considering you have a ```keycloak.json``` file in your classpath, you can create a new ```AuthzClient``` instance as follows:\n"
msgstr ""

#. type: Plain text
#: source/authorization_services/topics/service/client-api.adoc:61
#, no-wrap
msgid ""
"```java\n"
"    // create a new instance based on the configuration defined in a keycloak.json located in your classpath\n"
"    AuthzClient authzClient = AuthzClient.create();\n"
"```\n"
msgstr ""

#. type: Title ====
#: source/authorization_services/topics/service/client-api.adoc:62
#, no-wrap
msgid "Obtaining User Entitlements"
msgstr ""

#. type: Plain text
#: source/authorization_services/topics/service/client-api.adoc:65
#, no-wrap
msgid "Here is an example illustrating how to obtain user entitlements:\n"
msgstr ""

#.  create a new instance based on the configuration defined in keycloak-authz.json
#. type: Plain text
#: source/authorization_services/topics/service/client-api.adoc:69
#: source/authorization_services/topics/service/client-api.adoc:88
#: source/authorization_services/topics/service/client-api.adoc:115
#, no-wrap
msgid ""
"```java\n"
"AuthzClient authzClient = AuthzClient.create();\n"
msgstr ""

#.  obtain an Entitlement API Token to get access to the Entitlement API.
#.  this token is an access token issued to a client on behalf of an user
#.  with a uma_authorization scope
#. type: Plain text
#: source/authorization_services/topics/service/client-api.adoc:74
#: source/authorization_services/topics/service/client-api.adoc:93
#, no-wrap
msgid "String eat = getEntitlementAPIToken(authzClient);\n"
msgstr ""

#.  send the entitlement request to the server to
#.  obtain an RPT with all permissions granted to the user
#. type: Plain text
#: source/authorization_services/topics/service/client-api.adoc:79
#, no-wrap
msgid ""
"EntitlementResponse response = authzClient.entitlement(eat).getAll(\"hello-world-authz-service\");\n"
"String rpt = response.getRpt();\n"
msgstr ""

#. type: Plain text
#: source/authorization_services/topics/service/client-api.adoc:84
#, no-wrap
msgid "Here is an example illustrating how to obtain user entitlements for a set of one or more resources:\n"
msgstr ""

#.  create an entitlement request
#. type: Plain text
#: source/authorization_services/topics/service/client-api.adoc:97
#, no-wrap
msgid ""
"EntitlementRequest request = new EntitlementRequest();\n"
"PermissionRequest permission = new PermissionRequest();\n"
msgstr ""

#. type: Plain text
#: source/authorization_services/topics/service/client-api.adoc:99
#, no-wrap
msgid "permission.setResourceSetName(\"Hello World Resource\");\n"
msgstr ""

#. type: Plain text
#: source/authorization_services/topics/service/client-api.adoc:101
#, no-wrap
msgid "request.addPermission(permission);\n"
msgstr ""

#.  send the entitlement request to the server to obtain an RPT
#.  with all permissions granted to the user
#. type: Plain text
#: source/authorization_services/topics/service/client-api.adoc:106
#, no-wrap
msgid ""
"EntitlementResponse response = authzClient.entitlement(eat).get(\"hello-world-authz-service\", request);\n"
"String rpt = response.getRpt();\n"
msgstr ""

#. type: Title ====
#: source/authorization_services/topics/service/client-api.adoc:110
#, no-wrap
msgid "Creating a Resource Using the Protection API"
msgstr ""

#.  create a new resource representation with the information we want
#. type: Plain text
#: source/authorization_services/topics/service/client-api.adoc:118
#, no-wrap
msgid "ResourceRepresentation newResource = new ResourceRepresentation();\n"
msgstr ""

#. type: Plain text
#: source/authorization_services/topics/service/client-api.adoc:121
#, no-wrap
msgid ""
"newResource.setName(\"New Resource\");\n"
"newResource.setType(\"urn:hello-world-authz:resources:example\");\n"
msgstr ""

#. type: Plain text
#: source/authorization_services/topics/service/client-api.adoc:123
#, no-wrap
msgid "newResource.addScope(new ScopeRepresentation(\"urn:hello-world-authz:scopes:view\"));\n"
msgstr ""

#. type: Plain text
#: source/authorization_services/topics/service/client-api.adoc:126
#, no-wrap
msgid ""
"ProtectedResource resourceClient = authzClient.protection().resource();\n"
"Set<String> existingResource = resourceClient.findByFilter(\"name=\" + newResource.getName());\n"
msgstr ""

#. type: Plain text
#: source/authorization_services/topics/service/client-api.adoc:130
#, no-wrap
msgid ""
"if (!existingResource.isEmpty()) {\n"
"    resourceClient.delete(existingResource.iterator().next());\n"
"}\n"
msgstr ""

#.  create the resource on the server
#. type: Plain text
#: source/authorization_services/topics/service/client-api.adoc:134
#, no-wrap
msgid ""
"RegistrationResponse response = resourceClient.create(newResource);\n"
"String resourceId = response.getId();\n"
msgstr ""

#.  query the resource using its newly generated id
#. type: Plain text
#: source/authorization_services/topics/service/client-api.adoc:138
#, no-wrap
msgid ""
"ResourceRepresentation resource = resourceClient.findById(resourceId).getResourceDescription();\n"
"```\n"
msgstr ""

#. type: Title ====
#: source/authorization_services/topics/service/client-api.adoc:139
#, no-wrap
msgid "Introspecting a RPT"
msgstr ""

#. type: Plain text
#: source/authorization_services/topics/service/client-api.adoc:145
#, no-wrap
msgid ""
"```java\n"
"    AuthzClient authzClient = AuthzClient.create();\n"
"    String rpt = getRequestingPartyToken(authzClient);\n"
"    TokenIntrospectionResponse requestingPartyToken = authzClient.protection().introspectRequestingPartyToken(rpt);\n"
msgstr ""

#. type: Plain text
#: source/authorization_services/topics/service/client-api.adoc:151
#, no-wrap
msgid ""
"    if (requestingPartyToken.getActive()) {\n"
"        for (Permission granted : requestingPartyToken.getPermissions()) {\n"
"            // iterate over the granted permissions\n"
"        }\n"
"    }\n"
"```\n"
msgstr ""
